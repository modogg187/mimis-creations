<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Mimi's Creations - Handcrafted Jewelry</title>
  <meta name="description" content="Mimi's Creations offers unique, handcrafted jewelry including necklaces, earrings, bracelets, and rings. Shop our beautiful collection today.">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600&family=Montserrat:wght@300;400;500;600&display=swap" rel="stylesheet">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <style>
    :root {
      --primary: #d4a373;
      --secondary: #fae8d8;
      --accent: #8b5e3c;
      --text: #3d2b1f;
      --light: #fdf6f0;
      --dark: #2c1810;
      --success: #90c290;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Montserrat', sans-serif; color: var(--text); background-color: var(--light); line-height: 1.6; }
    .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }

    /* Header */
    header { background: linear-gradient(135deg, var(--primary), var(--secondary)); box-shadow: 0 2px 10px rgba(0,0,0,0.1); position: sticky; top: 0; z-index: 1000; }
    .header-top { background-color: var(--dark); color: white; padding: 8px 0; font-size: 0.9rem; text-align: center; }
    nav { padding: 15px 0; }
    .nav-container { display: flex; justify-content: space-between; align-items: center; }
    .logo { font-family: 'Dancing Script', cursive; font-size: 2.2rem; color: var(--dark); text-decoration: none; font-weight: 600; }
    .logo span { color: var(--accent); }
    .nav-links { display: flex; list-style: none; gap: 30px; }
    .nav-links a { text-decoration: none; color: var(--dark); font-weight: 500; position: relative; }
    .nav-links a:hover { color: var(--accent); }
    .nav-links a::after { content: ''; position: absolute; width: 0; height: 2px; bottom: -5px; left: 0; background-color: var(--accent); transition: width 0.3s; }
    .nav-links a:hover::after { width: 100%; }
    .nav-icons { display: flex; gap: 15px; align-items: center; }
    .cart-icon { position: relative; color: var(--dark); font-size: 1.3rem; cursor: pointer; }
    .cart-icon:hover { color: var(--accent); }
    .cart-count { position: absolute; top: -8px; right: -8px; background-color: var(--accent); color: white; font-size: 0.7rem; width: 18px; height: 18px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 600; }

    /* Hero */
    .hero { background: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 600"><rect fill="%23fae8d8" width="1200" height="600"/><path fill="%23d4a373" d="M0,300 Q300,200 600,300 T1200,300 L1200,600 L0,600 Z"/></svg>') center/cover no-repeat; height: 70vh; display: flex; align-items: center; text-align: center; color: var(--dark); }
    .hero-content { max-width: 700px; margin: 0 auto; padding: 0 20px; }
    .hero h1 { font-family: 'Dancing Script', cursive; font-size: 4rem; margin-bottom: 20px; color: var(--dark); }
    .hero p { font-size: 1.2rem; margin-bottom: 30px; max-width: 600px; margin-left: auto; margin-right: auto; }
    .btn { display: inline-block; background-color: var(--accent); color: white; padding: 12px 30px; border-radius: 30px; text-decoration: none; font-weight: 600; transition: all 0.3s; border: 2px solid var(--accent); }
    .btn:hover { background-color: transparent; color: var(--accent); transform: translateY(-3px); }

    /* Search & Filters */
    .search-filter { padding: 40px 0; background-color: white; }
    .search-bar { display: flex; gap: 10px; margin-bottom: 20px; }
    .search-bar input { flex: 1; padding: 12px; border: 2px solid var(--primary); border-radius: 25px; font-size: 1rem; }
    .search-bar button { background: var(--primary); color: white; border: none; padding: 0 20px; border-radius: 25px; cursor: pointer; }
    .filter-group { display: flex; flex-wrap: wrap; gap: 10px; }
    .filter-btn { background-color: var(--light); color: var(--text); border: 2px solid var(--primary); padding: 8px 16px; border-radius: 25px; cursor: pointer; font-size: 0.9rem; }
    .filter-btn.active, .filter-btn:hover { background-color: var(--primary); color: white; }

    /* Gallery */
    .gallery { padding: 60px 0; background-color: var(--light); }
    .section-title { text-align: center; margin-bottom: 50px; font-size: 2.5rem; color: var(--dark); position: relative; }
    .section-title::after { content: ''; width: 80px; height: 3px; background-color: var(--primary); display: block; margin: 15px auto 0; border-radius: 2px; }
    .gallery-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 30px; }
    .product-card { background-color: white; border-radius: 15px; overflow: hidden; box-shadow: 0 5px 15px rgba(0,0,0,0.08); transition: all 0.3s; }
    .product-card:hover { transform: translateY(-10px); box-shadow: 0 15px 30px rgba(0,0,0,0.15); }
    .product-image { height: 280px; overflow: hidden; }
    .product-image img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.5s; }
    .product-card:hover .product-image img { transform: scale(1.1); }
    .product-info { padding: 20px; }
    .product-title { font-size: 1.2rem; margin-bottom: 8px; color: var(--dark); }
    .product-price { font-size: 1.3rem; font-weight: 600; color: var(--accent); margin-bottom: 15px; }
    .product-actions { display: flex; justify-content: space-between; align-items: center; }
    .add-to-cart { background-color: var(--primary); color: white; border: none; padding: 10px 18px; border-radius: 25px; cursor: pointer; font-size: 0.9rem; font-weight: 500; }
    .add-to-cart:hover { background-color: var(--accent); transform: translateY(-2px); }
    .wishlist { color: var(--text); font-size: 1.3rem; cursor: pointer; }
    .wishlist:hover, .wishlist.active { color: #e91e63; }

    /* Cart Sidebar */
    .cart-sidebar { position: fixed; top: 0; right: -400px; width: 380px; height: 100vh; background-color: white; box-shadow: -5px 0 15px rgba(0,0,0,0.1); transition: right 0.4s ease; z-index: 2000; overflow-y: auto; }
    .cart-sidebar.open { right: 0; }
    .cart-header { padding: 20px; border-bottom: 1px solid #eee; display: flex; justify-content: space-between; align-items: center; background-color: var(--light); }
    .cart-title { font-size: 1.5rem; font-weight: 600; color: var(--dark); }
    .close-cart { background: none; border: none; font-size: 1.5rem; cursor: pointer; color: var(--text); }
    .cart-items { padding: 20px; max-height: calc(100vh - 250px); overflow-y: auto; }
    .cart-item { display: flex; gap: 15px; padding: 15px 0; border-bottom: 1px solid #eee; }
    .cart-item-img { width: 80px; height: 80px; object-fit: cover; border-radius: 8px; }
    .cart-item-info { flex: 1; }
    .cart-item-title { font-size: 1rem; margin-bottom: 5px; color: var(--dark); }
    .cart-item-price { font-weight: 600; color: var(--accent); margin-bottom: 8px; }
    .quantity-control { display: flex; align-items: center; gap: 10px; }
    .quantity-btn { width: 28px; height: 28px; border: 1px solid #ddd; background-color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; font-size: 0.9rem; }
    .quantity-btn:hover { background-color: var(--primary); color: white; border-color: var(--primary); }
    .quantity { min-width: 30px; text-align: center; font-weight: 500; }
    .remove-item { color: #e74c3c; cursor: pointer; font-size: 1.1rem; margin-left: auto; }
    .cart-footer { padding: 20px; border-top: 1px solid #eee; background-color: var(--light); }
    .cart-total { display: flex; justify-content: space-between; margin-bottom: 20px; font-size: 1.2rem; font-weight: 600; }
    .checkout-btn { width: 100%; padding: 15px; background-color: var(--accent); color: white; border: none; border-radius: 8px; font-size: 1.1rem; font-weight: 600; cursor: pointer; }
    .checkout-btn:hover { background-color: var(--dark); }
    .empty-cart { text-align: center; padding: 60px 20px; color: #999; }
    .empty-cart i { font-size: 4rem; margin-bottom: 20px; color: #ddd; }

    .overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); opacity: 0; visibility: hidden; transition: all 0.3s; z-index: 1500; }
    .overlay.active { opacity: 1; visibility: visible; }

    /* Footer */
    footer { background-color: var(--dark); color: white; padding: 60px 0 30px; }
    .footer-content { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 40px; margin-bottom: 40px; }
    .footer-col h3 { font-size: 1.3rem; margin-bottom: 20px; position: relative; padding-bottom: 10px; }
    .footer-col h3::after { content: ''; position: absolute; left: 0; bottom: 0; width: 40px; height: 2px; background-color: var(--primary); }
    .footer-col ul { list-style: none; }
    .footer-col ul li { margin-bottom: 10px; }
    .footer-col ul li a { color: #ccc; text-decoration: none; }
    .footer-col ul li a:hover { color: var(--primary); }
    .social-links { display: flex; gap: 15px; margin-top: 20px; }
    .social-links a { width: 40px; height: 40px; background-color: rgba(212, 163, 115, 0.2); color: var(--primary); display: flex; align-items: center; justify-content: center; border-radius: 50%; }
    .social-links a:hover { background-color: var(--primary); color: white; transform: translateY(-3px); }
    .copyright { text-align: center; padding-top: 30px; border-top: 1px solid rgba(255,255,255,0.1); font-size: 0.9rem; color: #aaa; }

    @media (max-width: 992px) { .nav-links { display: none; } .hero h1 { font-size: 3rem; } }
    @media (max-width: 768px) { .hero { height: 60vh; } .hero h1 { font-size: 2.5rem; } .gallery-grid { grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); } .cart-sidebar { width: 100%; right: -100%; } }
  </style>
</head>
<body>

  <!-- Header -->
  <header>
    <div class="header-top">
      <div class="container">Free shipping on orders over $50 • Handmade with love</div>
    </div>
    <nav>
      <div class="container nav-container">
        <a href="#" class="logo">Mimi's <span>Creations</span></a>
        <ul class="nav-links">
          <li><a href="#home">Home</a></li>
          <li><a href="#gallery">Shop</a></li>
          <li><a href="#about">About</a></li>
          <li><a href="#contact">Contact</a></li>
        </ul>
        <div class="nav-icons">
          <div class="cart-icon" id="cartToggle">
            <i class="fas fa-shopping-bag"></i>
            <span class="cart-count" id="cartCount">0</span>
          </div>
        </div>
      </div>
    </nav>
  </header>

  <!-- Hero -->
  <section class="hero" id="home">
    <div class="hero-content">
      <h1>Handcrafted with Love</h1>
      <p>Discover unique, artisanal jewelry pieces that tell your story. Each creation is made with passion, precision, and the finest materials.</p>
      <a href="#gallery" class="btn">Explore Collection</a>
    </div>
  </section>

  <!-- Search & Filters -->
  <section class="search-filter">
    <div class="container">
      <div class="search-bar">
        <input type="text" id="searchInput" placeholder="Search jewelry..." />
        <button id="searchBtn"><i class="fas fa-search"></i></button>
      </div>
      <div class="filter-group" id="filterButtons">
        <button class="filter-btn active" data-filter="all">All Items</button>
        <!-- Categories loaded dynamically -->
      </div>
    </div>
  </section>

  <!-- Gallery -->
  <section class="gallery" id="gallery">
    <div class="container">
      <h2 class="section-title">Our Collection</h2>
      <div class="gallery-grid" id="galleryGrid"></div>
    </div>
  </section>

  <!-- Cart Sidebar -->
  <div class="overlay" id="overlay"></div>
  <aside class="cart-sidebar" id="cartSidebar">
    <div class="cart-header">
      <h3 class="cart-title">Your Cart (<span id="sidebarCartCount">0</span>)</h3>
      <button class="close-cart" id="closeCart">×</button>
    </div>
    <div class="cart-items" id="cartItems">
      <div class="empty-cart">
        <i class="fas fa-shopping-bag"></i>
        <p>Your cart is empty</p>
        <a href="#gallery" class="btn">Continue Shopping</a>
      </div>
    </div>
    <div class="cart-footer">
      <div class="cart-total">
        <span>Total:</span>
        <span id="cartTotal">$0.00</span>
      </div>
      <button class="checkout-btn">Proceed to Checkout</button>
    </div>
  </aside>

  <!-- Footer -->
  <footer>
    <div class="container">
      <div class="footer-content">
        <div class="footer-col">
          <h3>Mimi's Creations</h3>
          <p>Handcrafted jewelry made with love and passion. Each piece tells a unique story.</p>
          <div class="social-links">
            <a href="#"><i class="fab fa-instagram"></i></a>
            <a href="#"><i class="fab fa-facebook"></i></a>
            <a href="#"><i class="fab fa-pinterest"></i></a>
            <a href="#"><i class="fab fa-etsy"></i></a>
          </div>
        </div>
        <div class="footer-col">
          <h3>Quick Links</h3>
          <ul>
            <li><a href="#home">Home</a></li>
            <li><a href="#gallery">Shop All</a></li>
            <li><a href="#">About Us</a></li>
            <li><a href="#">Shipping Info</a></li>
            <li><a href="#">Returns</a></li>
          </ul>
        </div>
        <div class="footer-col">
          <h3>Categories</h3>
          <ul id="footerCategories">
            <!-- Filled by JS -->
          </ul>
        </div>
        <div class="footer-col">
          <h3>Contact</h3>
          <ul>
            <li><i class="fas fa-envelope"></i> hello@mimiscreations.com</li>
            <li><i class="fas fa-phone"></i> (555) 123-4567</li>
            <li><i class="fas fa-map-marker-alt"></i> 123 Craft Street, Artisanal City</li>
          </ul>
        </div>
      </div>
      <div class="copyright">
        &copy; 2025 Mimi's Creations. All rights reserved. Handmade with love
      </div>
    </div>
  </footer>

  <script>
    const API = '/api';
    let cart = JSON.parse(localStorage.getItem('mimi_cart') || '[]');
    let allProducts = [];
    let currentFilter = 'all';
    let currentSearch = '';

    // DOM Elements
    const galleryGrid = document.getElementById('galleryGrid');
    const filterButtons = document.getElementById('filterButtons');
    const searchInput = document.getElementById('searchInput');
    const searchBtn = document.getElementById('searchBtn');
    const cartToggle = document.getElementById('cartToggle');
    const cartSidebar = document.getElementById('cartSidebar');
    const closeCart = document.getElementById('closeCart');
    const overlay = document.getElementById('overlay');
    const cartCount = document.getElementById('cartCount');
    const sidebarCartCount = document.getElementById('sidebarCartCount');
    const cartItems = document.getElementById('cartItems');
    const cartTotal = document.getElementById('cartTotal');

    // Load Categories
    async function loadCategories() {
      const res = await fetch(`${API}/categories`);
      const cats = await res.json();
      filterButtons.innerHTML = '<button class="filter-btn active" data-filter="all">All Items</button>';
      cats.forEach(c => {
        const btn = document.createElement('button');
        btn.className = 'filter-btn';
        btn.dataset.filter = c.slug;
        btn.textContent = c.name;
        filterButtons.appendChild(btn);
      });
      document.querySelectorAll('.filter-btn').forEach(b => b.onclick = () => filterProducts(b.dataset.filter));
      // Footer
      const footerList = document.getElementById('footerCategories');
      footerList.innerHTML = cats.map(c => `<li><a href="#" data-filter="${c.slug}">${c.name}</a></li>`).join('');
      footerList.querySelectorAll('a').forEach(a => a.onclick = e => { e.preventDefault(); filterProducts(a.dataset.filter); });
    }

    // Load Products
    async function loadProducts() {
      const res = await fetch(`${API}/products`);
      allProducts = await res.json();
      renderProducts();
    }

    // Render with Search + Filter
    function renderProducts() {
      let filtered = allProducts;

      if (currentFilter !== 'all') {
        filtered = filtered.filter(p => p.category === currentFilter);
      }
      if (currentSearch) {
        const q = currentSearch.toLowerCase();
        filtered = filtered.filter(p => p.name.toLowerCase().includes(q));
      }

      galleryGrid.innerHTML = '';
      if (filtered.length === 0) {
        galleryGrid.innerHTML = '<p style="text-align:center; grid-column:1/-1; color:#999;">No products found.</p>';
        return;
      }

      filtered.forEach(p => {
        const card = document.createElement('div');
        card.className = 'product-card';
        card.dataset.category = p.category;
        card.innerHTML = `
          <div class="product-image"><img src="${p.image}" alt="${p.name}" loading="lazy"></div>
          <div class="product-info">
            <h3 class="product-title">${p.name}</h3>
            <p class="product-price">$${Number(p.price).toFixed(2)}</p>
            <div class="product-actions">
              <button class="add-to-cart" data-id="${p.id}">Add to Cart</button>
              <i class="far fa-heart wishlist" data-id="${p.id}"></i>
            </div>
          </div>`;
        galleryGrid.appendChild(card);
      });
      document.querySelectorAll('.add-to-cart').forEach(b => b.onclick = addToCart);
      document.querySelectorAll('.wishlist').forEach(b => b.onclick = toggleWishlist);
    }

    function filterProducts(filter) {
      document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
      document.querySelector(`[data-filter="${filter}"]`).classList.add('active');
      currentFilter = filter;
      renderProducts();
    }

    searchBtn.onclick = () => {
      currentSearch = searchInput.value.trim();
      renderProducts();
    };
    searchInput.addEventListener('keypress', e => { if (e.key === 'Enter') searchBtn.click(); });

    // Cart Functions
    function addToCart(e) {
      const id = e.target.dataset.id;
      const product = allProducts.find(p => p.id == id);
      const existing = cart.find(i => i.id == id);
      if (existing) existing.quantity++;
      else cart.push({ ...product, quantity: 1 });
      saveCart();
      updateCartUI();
      showNotification(`${product.name} added!`);
    }

    function updateCartUI() {
      const totalItems = cart.reduce((s, i) => s + i.quantity, 0);
      const totalPrice = cart.reduce((s, i) => s + i.price * i.quantity, 0);
      cartCount.textContent = totalItems;
      sidebarCartCount.textContent = totalItems;
      cartTotal.textContent = `$${totalPrice.toFixed(2)}`;

      if (cart.length === 0) {
        cartItems.innerHTML = `<div class="empty-cart"><i class="fas fa-shopping-bag"></i><p>Your cart is empty</p><a href="#gallery" class="btn">Continue Shopping</a></div>`;
      } else {
        cartItems.innerHTML = '';
        cart.forEach(item => {
          const div = document.createElement('div');
          div.className = 'cart-item';
          div.innerHTML = `
            <img src="${item.image}" class="cart-item-img">
            <div class="cart-item-info">
              <h4 class="cart-item-title">${item.name}</h4>
              <p class="cart-item-price">$${item.price}</p>
              <div class="quantity-control">
                <button class="quantity-btn decrease" data-id="${item.id}">-</button>
                <span class="quantity">${item.quantity}</span>
                <button class="quantity-btn increase" data-id="${item.id}">+</button>
              </div>
            </div>
            <i class="fas fa-trash remove-item" data-id="${item.id}"></i>`;
          cartItems.appendChild(div);
        });
        document.querySelectorAll('.decrease').forEach(b => b.onclick = () => changeQty(b.dataset.id, -1));
        document.querySelectorAll('.increase').forEach(b => b.onclick = () => changeQty(b.dataset.id, 1));
        document.querySelectorAll('.remove-item').forEach(b => b.onclick = () => removeFromCart(b.dataset.id));
      }
    }

    function changeQty(id, delta) {
      const item = cart.find(i => i.id == id);
      if (item) {
        item.quantity += delta;
        if (item.quantity <= 0) removeFromCart(id);
        else { saveCart(); updateCartUI(); }
      }
    }

    function removeFromCart(id) {
      cart = cart.filter(i => i.id != id);
      saveCart();
      updateCartUI();
    }

    function saveCart() {
      localStorage.setItem('mimi_cart', JSON.stringify(cart));
    }

    function toggleWishlist(e) {
      e.target.classList.toggle('fas');
      e.target.classList.toggle('far');
    }

    function showNotification(msg) {
      const n = document.createElement('div');
      n.style.cssText = 'position:fixed;top:100px;right:20px;background:#90c290;color:white;padding:15px 20px;border-radius:8px;z-index:3000;transform:translateX(120%);transition:0.4s;';
      n.textContent = msg;
      document.body.appendChild(n);
      setTimeout(() => n.style.transform = 'translateX(0)', 100);
      setTimeout(() => { n.style.transform = 'translateX(120%)'; setTimeout(() => n.remove(), 400); }, 3000);
    }

    // Cart Toggle
    cartToggle.onclick = () => { cartSidebar.classList.toggle('open'); overlay.classList.toggle('active'); };
    closeCart.onclick = overlay.onclick = () => { cartSidebar.classList.remove('open'); overlay.classList.remove('active'); };

    // Init
    document.addEventListener('DOMContentLoaded', () => {
      loadCategories();
      loadProducts();
      updateCartUI();
    });
  </script>
</body>
</html>